@page "/"

@inject HttpClient Http
@using Wellness.Client.Components.MonthsMenu
@using Wellness.Client.Components.UserParticipation.Activities.List
@using Wellness.Client.Components.UserParticipation.Activities.Add
@inherits Wellness.Client.Pages.IndexComponent


@if (ViewModel.ActivityParticipations == null)
{
    <div class="progress">
        <div class="progress-bar" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
}
else
{

    <div class="main">
        <div class="content">
            <MonthsMenu OnMonthChanged="ViewModel.MonthChanged" />

            <MatTabGroup ActiveIndex="@ViewModel.ActivityTabIndex">
                <MatTab Label="Activities">
                    <UserActivities ActivityParticipations="@ViewModel.ActivityParticipations" OnConfirmDelete="@ViewModel.ActivityParticipationDeleted" />
                </MatTab>
                <MatTab Label="New">
                    <NewActivity Activities="@ViewModel.Activities"
                                 SelectedActivityName="@ViewModel.SelectedActivityName" 
                                 NumberOfMinutes="@ViewModel.NumberOfMinutes" 
                                 SelectedActivityDate="@ViewModel.SelectedActivityDate" 
                                 OnSaveSelected="@ViewModel.SaveActivity" />
                </MatTab>
            </MatTabGroup>
        </div>
    </div>

}