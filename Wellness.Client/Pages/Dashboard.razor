@page "/Dashboard"
@page  "/{SelectedUserId}"

@using Microsoft.AspNetCore.Authorization
@using Wellness.Client.Components.MonthsMenu
@using Wellness.Client.Components.UserParticipation.Activities.List
@using Wellness.Client.Components.UserParticipation.Activities.Add
@using Wellness.Client.Components.UserParticipation.Events.List
@using Wellness.Client.Components.UserParticipation.Events.Add
@using Wellness.Client.Components.Shared
@inject Microsoft.Extensions.Localization.IStringLocalizer<Wellness.Client.Properties.Resources> Loc
@inherits Wellness.Client.Pages.DashboardComponent
@attribute [Authorize]


<div class="row">
    <div class="col-lg-12 col-md-12">

        <MonthsMenu OnMonthChanged="ViewModel.MonthChanged" />
    </div>
    <div class="col-lg-6 col-md-6 p-2 activity-column">
        <MatBlazor.MatHeadline5>@Loc["Activities"]</MatBlazor.MatHeadline5>
        <NewActivity ViewModel="@ViewModel"
                     OnActivitySubmissionCompleted="@((e) => { ViewModel.ActivityTabIndex = 1; })" />
        <UserActivities ViewModel="@ViewModel" ActivityParticipations="@ViewModel.ActivityParticipations" OnConfirmDelete="@ViewModel.ActivityParticipationDeleted" />
    </div>
    <div class="col-lg-6 col-md-6 p-2 event-column">

        <MatBlazor.MatHeadline5>@Loc["Events"]</MatBlazor.MatHeadline5>

        <NewEvent ViewModel="@ViewModel"
                  OnFileAttached="@ViewModel.EventFileAttached"
                  OnEventSubmissionCompleted="@((e) => { ViewModel.EventTabIndex = 1; })" />
        <UserEvents ViewModel="@ViewModel" EventParticipations="@ViewModel.EventParticipations" OnConfirmDelete="@ViewModel.EventParticipationDeleted" />
    </div>
</div>
